C,1,B,$,#,A
x
@
-
0,1,vc,ld,c1,c2,c22,F
0
F
0,#,,0,#,D,,,0,$,,0,$,D,,,0,-,,1,x,D,,,0,1,,0,1,D,,,0,@,,0,@,D,,,0,A,,0,A,D,,,0,B,,0,B,D,,,0,C,,0,C,D,,,1,-,,vc,1,E,,,c1,#,,c1,#,D,,,c1,$,,c1,$,D,,,c1,-,,vc,1,E,,,c1,1,,c1,1,D,,,c1,A,,c1,A,D,,,c1,B,,c1,B,D,,,c1,C,,c1,C,D,,,c1,x,,c1,x,D,,,c2,#,,c2,#,D,,,c2,$,,c2,$,D,,,c2,-,,c22,1,D,,,c2,1,,c2,1,D,,,c2,A,,c2,A,D,,,c2,B,,c2,B,D,,,c2,C,,c2,C,D,,,c2,x,,c2,x,D,,,c22,-,,vc,1,E,,,ld,#,,c1,-,D,,,ld,$,,c2,-,D,,,ld,-,,ld,-,D,,,ld,1,,ld,-,D,,,ld,A,,c1,-,D,,,ld,B,,c2,-,D,,,ld,C,,ld,-,D,,,ld,x,,F,-,E,,,vc,#,,vc,#,E,,,vc,$,,vc,$,E,,,vc,-,,vc,-,E,,,vc,1,,vc,1,E,,,vc,@,,ld,@,D,,,vc,A,,vc,A,E,,,vc,B,,vc,B,E,,,vc,C,,vc,C,E,,,vc,x,,vc,x,E,,,,,,1,-,,vc,1,E,,,c1,#,,c1,#,D,,,c1,$,,c1,$,D,,,c1,-,,vc,1,E,,,c1,1,,c1,1,D,,,c1,A,,c1,A,D,,,c1,B,,c1,B,D,,,c1,C,,c1,C,D,,,c1,x,,c1,x,D,,,c2,#,,c2,#,D,,,c2,$,,c2,$,D,,,c2,-,,c22,1,D,,,c2,1,,c2,1,D,,,c2,A,,c2,A,D,,,c2,B,,c2,B,D,,,c2,C,,c2,C,D,,,c2,x,,c2,x,D,,,c22,-,,vc,1,E,,,ld,#,,c1,-,D,,,ld,$,,c2,-,D,,,ld,-,,ld,-,D,,,ld,1,,ld,-,D,,,ld,A,,c1,-,D,,,ld,B,,c2,-,D,,,ld,C,,ld,-,D,,,ld,x,,F,-,E,,,vc,#,,vc,#,E,,,vc,$,,vc,$,E,,,vc,-,,vc,-,E,,,vc,1,,vc,1,E,,,vc,@,,ld,@,D,,,vc,A,,vc,A,E,,,vc,B,,vc,B,E,,,vc,C,,vc,C,E,,,vc,x,,vc,x,E,,,,,,1,-,,vc,1,E,,,c1,#,,c1,#,D,,,c1,$,,c1,$,D,,,c1,-,,vc,1,E,,,c1,1,,c1,1,D,,,c1,A,,c1,A,D,,,c1,B,,c1,B,D,,,c1,C,,c1,C,D,,,c1,x,,c1,x,D,,,c2,#,,c2,#,D,,,c2,$,,c2,$,D,,,c2,-,,c22,1,D,,,c2,1,,c2,1,D,,,c2,A,,c2,A,D,,,c2,B,,c2,B,D,,,c2,C,,c2,C,D,,,c2,x,,c2,x,D,,,c22,-,,vc,1,E,,,ld,#,,c1,-,D,,,ld,$,,c2,-,D,,,ld,-,,ld,-,D,,,ld,1,,ld,-,D,,,ld,A,,c1,-,D,,,ld,B,,c2,-,D,,,ld,C,,ld,-,D,,,ld,x,,F,-,E,,,vc,#,,vc,#,E,,,vc,$,,vc,$,E,,,vc,-,,vc,-,E,,,vc,1,,vc,1,E,,,vc,@,,ld,@,D,,,vc,A,,vc,A,E,,,vc,B,,vc,B,E,,,vc,C,,vc,C,E,,,vc,x,,vc,x,E,,,,,,1,-,,vc,1,E,,,c1,#,,c1,#,D,,,c1,$,,c1,$,D,,,c1,-,,vc,1,E,,,c1,1,,c1,1,D,,,c1,A,,c1,A,D,,,c1,B,,c1,B,D,,,c1,C,,c1,C,D,,,c1,x,,c1,x,D,,,c2,#,,c2,#,D,,,c2,$,,c2,$,D,,,c2,-,,c22,1,D,,,c2,1,,c2,1,D,,,c2,A,,c2,A,D,,,c2,B,,c2,B,D,,,c2,C,,c2,C,D,,,c2,x,,c2,x,D,,,c22,-,,vc,1,E,,,ld,#,,c1,-,D,,,ld,$,,c2,-,D,,,ld,-,,ld,-,D,,,ld,1,,ld,-,D,,,ld,A,,c1,-,D,,,ld,B,,c2,-,D,,,ld,C,,ld,-,D,,,ld,x,,F,-,E,,,vc,#,,vc,#,E,,,vc,$,,vc,$,E,,,vc,-,,vc,-,E,,,vc,1,,vc,1,E,,,vc,@,,ld,@,D,,,vc,A,,vc,A,E,,,vc,B,,vc,B,E,,,vc,C,,vc,C,E,,,vc,x,,vc,x,E,,,
Explicação: O programa começa indo para o final da string, e coloca x e 1 (estados 0 e 1), e depois volta para o começo (vc). Logo em seguida, vai para o estado ld ('lê digito'). No estado ld, independente do caractere, escreve vazio. Se ler A ou #, vai para c1, se ler B ou $, vai para o c2. Para qualquer outro dígito, vai para a direita. O estado c1 vai até o final da string, coloca 1 e volta (vc), e o c2, coloca 1 e 1 e volta (vc). O programa acaba quando ler x no estado ld, apagando o x.